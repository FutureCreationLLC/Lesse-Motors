<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LESSE Motors - Models</title>
<link rel="stylesheet" href="css/style.css">
<link rel="icon" type="image/png" href="assets/logo-le.svg">
</head>
<body>

<nav>
  <a href="index.html">Home</a>
  <a href="models.html">Models</a>
  <a href="gallery.html">Gallery</a>
  <a href="preorder.html">Pre-Order</a>
  <a href="contact.html">Contact</a>
  <a href="admin/login.html">Admin</a>
</nav>

<div class="page-wrapper" style="padding-top:90px; max-width:1200px; margin:auto;">
  
  <!-- Model Categories -->
  <div id="modelsContainer"></div>

</div>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>
<script src="js/firebase-config.js"></script>
<script src="js/main.js"></script>
<script>
const modelsContainer = document.getElementById('modelsContainer');
const carTypes = ['pragya','sedan','bus','suv','pickup','van','cargo','mini-truck','luxury','coupe'];

carTypes.forEach(type=>{
    const categoryTitle = document.createElement('h2');
    categoryTitle.textContent = type.toUpperCase() + ' Cars';
    categoryTitle.style.color='#ffcc00';
    categoryTitle.style.margin='20px 0 10px';
    modelsContainer.appendChild(categoryTitle);

    const grid = document.createElement('div');
    grid.className='image-grid';
    grid.style.display='grid';
    grid.style.gridTemplateColumns='repeat(auto-fit,minmax(250px,1fr))';
    grid.style.gap='20px';
    modelsContainer.appendChild(grid);

    const typeRef = storageRef.child(type);
    typeRef.listAll().then(res=>{
        if(res.items.length === 0){
            const placeholder = document.createElement('div');
            placeholder.className='placeholder';
            placeholder.textContent = 'No images uploaded yet.';
            grid.appendChild(placeholder);
        } else {
            res.items.forEach(itemRef=>{
                itemRef.getDownloadURL().then(url=>{
                    const card = document.createElement('div');
                    card.className='model-card';
                    card.style.background='#222';
                    card.style.borderRadius='10px';
                    card.style.padding='10px';
                    card.style.textAlign='center';
                    card.style.border='1px solid #333';

                    const imageEl = document.createElement('img');
                    imageEl.src = url;
                    imageEl.style.width='100%';
                    imageEl.style.borderRadius='10px';

                    const title = document.createElement('div');
                    title.className='model-title';
                    title.textContent = type.toUpperCase();

                    card.appendChild(imageEl);
                    card.appendChild(title);
                    grid.appendChild(card);
                });
            });
        }
    });
});
</script>

</body>
</html>
